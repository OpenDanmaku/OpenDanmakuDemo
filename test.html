<html>
<head>
	<title>OpenDanmaku接口测试</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<link rel = "Shortcut Icon" href=/16x16t.ico> 
</head>
<body>
<div id="ad" style="background:#FFD0D0; color:#800000" onclick="ShowAD();">
磁链弹幕OpenDanmaku项目诚邀志同道合者,<b>详情请点击</b></div><hr />
<div id="replyFloor" style="background:#FFEFEF; color:#800000">
API简介<a href="https://github.com/OpenDanmaku/OpenDanmaku/blob/master/server/README.md">
https://github.com/OpenDanmaku/OpenDanmaku/blob/master/server/README.md</a><br>
API详解<a href="https://github.com/OpenDanmaku/OpenDanmaku/blob/master/server/API.md">
https://github.com/OpenDanmaku/OpenDanmaku/blob/master/server/API.md</a><br>
<br>
欢迎测试(包括破坏性测试)!<br><hr />
<table><tr><td>
<table>
<tr><td>
<form action="http://idanmu.tk/newCookie.php" method="get">
	<fieldset>
	<legend>获取Cookie</legend>请输入验证信息：
	<input type="text" name="vcode" style="width:300;" /><br>
	<input type="submit" value="提交">
	<img src="http://idanmu.tk/getVcode.php" />
	</fieldset>
</form>
</td></tr>
<tr><td>
<form action="http://idanmu.tk/newVideo.php" method="get">
	<fieldset>
	<legend>创建视频信息</legend>请输入磁力链接：
	<input type="text" name="btih" style="width:300;" /><br>
	<input type="submit" value="提交">
	</fieldset>
</form>
<form action="http://idanmu.tk/getVideo.php" method="get">
	<fieldset>
	<legend>获取视频列表</legend>请输入磁力链接：
	<input type="text" name="btih" style="width:300;" /><br>请输入任务类型：
	<input type="text" name="action" style="width:300;" /><br>
	<input type="submit" value="提交">
	</fieldset>
</form>
<form action="http://idanmu.tk/getVideo.php" method="get">
	<fieldset>
	<legend>获取视频信息</legend>请输入磁力链接：
	<input type="text" name="btih" style="width:300;" /><br>
	<input type="submit" value="提交">
	</fieldset>
</form>
</td></tr>
<tr><td>
<form action="http://idanmu.tk/newLink.php" method="get">
	<fieldset>
	<legend>创建链接引用</legend>请输入链接引用：
	<input type="text" name="linkage" style="width:300;" /><br>
	<input type="submit" value="提交">
	</fieldset>
</form>
<form action="http://idanmu.tk/getLink.php" method="get">
	<fieldset>
	<legend>获取引用列表</legend>请输入磁力链接：
	<input type="text" name="btih" style="width:300;" /><br>
	<input type="submit" value="提交">
	</fieldset>
</form>
</td></tr>
</table></td>
<td><table>
<tr><td>
<form action="http://idanmu.tk/newComment.php" method="get">
	<fieldset>
	<legend>创建弹幕信息</legend>请输入磁力链接：
	<input type="text" name="btih" style="width:300;" /><br>请输入弹幕数据：
	<textarea type="text" name="comment" rows="7" style="width:300px"></textarea><br>
	<input type="submit" value="提交">
	</fieldset>
</form>
<form action="http://idanmu.tk/getComment.php" method="get">
	<fieldset>
	<legend>获取弹幕信息</legend>请输入磁力链接：
	<input type="text" name="btih" style="width:300;" /><br>请输入任务类型：
	<input type="text" name="action" style="width:300;" /><br>请输入起始信息：
	<input type="text" name="start" style="width:300;" /><br>请输入结束信息：
	<input type="text" name="end" style="width:300;" /><br>请输入弹幕数量：
	<input type="text" name="count" style="width:300;" /><br>
	<input type="submit" value="提交">
	</fieldset>
</form>
</td></tr>
<tr><td>
<form action="http://idanmu.tk/newDislike.php" method="get">
	<fieldset>
	<legend>创建举报信息</legend>请输入磁力链接：
	<input type="text" name="btih" style="width:300;" /><br>请输入弹幕序号：
	<input type="text" name="cid" style="width:300;" /><br>
	<input type="submit" value="提交">
	</fieldset>
</form>
<form action="http://idanmu.tk/getDislike.php" method="get">
	<fieldset>
	<legend>获取举报信息</legend>请输入磁力链接：
	<input type="text" name="btih" style="width:300;" /><br>
	<input type="submit" value="提交">
	</fieldset>
</form>
</td></tr>
</table>
</td></tr>
</table></div>
<script type="text/javascript">
function ShowInstruction(){
	//功能提示
	var Instruction="<br><br>想要欣赏某文豪发的全文却感到麻烦重重？<br>想要找到某个人的全部点评却觉大海捞针？<br>";
	Instruction+="再也不会了！<br>只要在页面链接前加<br>　　　　http://opendanmaku.github.io/#<br>";
	Instruction+="即可阅读此饼干的全部回复！<br><br>";
	Instruction+="<font color=\"#789922\">&gt;&gt;解析规则更新啦！<b>支持图片的显示和缩放！支持图片精选！</b><br>";
	Instruction+="&gt;&gt;范例：</font><br>PO文去水（PO，超过80字符的回复,含有图片的回复，适用于PO更换饼干）<br>";
	Instruction+="http://opendanmaku.github.io/#http://h.acfun.tv/t/4705755<br>";
	Instruction+="http://opendanmaku.github.io/#4705755<br><br>";
	Instruction+="只看PO主（只有PO，适用于PO没换饼干）<br>";
	Instruction+="http://opendanmaku.github.io/#http://h.acfun.tv/t/4705755?r=4705755<br><br>";
	Instruction+="只看此楼作者全部评论（适用于查看点评，或者作者某曾用Cookie的发言）";
	Instruction+="<br>http://opendanmaku.github.io/#http://h.acfun.tv/t/4705755?r=5253756<br>";
	Instruction+="http://opendanmaku.github.io/#5253756<br><br>";
	Instruction+="<font color=\"#789922\">&gt;&gt;请大家支持、推广、转发OpenDanmaku磁链弹幕项目！<br>";
	Instruction+="&gt;&gt;项目地址&nbsp;https://github.com/opendanmaku/opendanmaku/<br>";
	Instruction+="&gt;&gt;欢迎编程爱好者参与项目！感谢大家！(ノﾟ∀ﾟ)ノ</font><br>";	
	document.getElementById("ad").innerHTML+=Instruction;
}
function ShowAD(){
	//项目广告
	var MyAD=" 磁链弹幕OpenDanmaku项目诚邀志同道合者 <br>";
	MyAD+="用途<br>　　　　提供一个按磁力链接索引的匿名弹幕服务器,以及相应的API,平台为新浪云<br>";
	MyAD+="　　　　只要你提供magnet链接(中的btih编码),你可以借此在任何视频中分享弹幕<br>";
	MyAD+="　　　　没错,任何视频,能干什么你懂的<br>";
	MyAD+="功能<br>　　　　获取用户Cookie:并且有积分和操作硬直设定<br>";
	MyAD+="　　　　新建/获取视频信息:最近一周的最热视频,最近一周投稿(时间倒序),某投稿信息<br>";
	MyAD+="　　　　新建/获取弹幕信息:按序号/时间获取,获取最后x条弹幕,获取最新弹幕,获取全部弹幕<br>";
	MyAD+="　　　　新建/获取交叉链接:允许不同压制格式,不同字幕组,或合集与单集之间相互共享弹幕<br>";
	MyAD+="　　　　新建/获取云屏蔽:被dislike的弹幕可以隐藏,被dislike的人耗尽积分后会被禁言<br>";
	MyAD+="　　　　<b>详见&nbsp;<a href=\"https://github.com/OpenDanmaku/OpenDanmaku/\">https://github.com/OpenDanmaku/OpenDanmaku/</a></b><br>";
	MyAD+="状态<br>　　　　服务器端勉强写完了,因为是初学php,里面还存在大量的语法错误,<br>";
	MyAD+="　　　　不优雅不简洁和漏洞,但是代码大致可以解释清楚功能<br>";
	MyAD+="　　　　播放页预计将借用jabbany氏的ABPlayerHTML5/CommentCoreLibrary,<br>";
	MyAD+="　　　　他的优秀作品甚至被a站html5播放器引用,谨表致意<br>";
	MyAD+="　　　　在下不是专业学计算机和软件的,虽然有个小点子,<br>";
	MyAD+="　　　　但是实践起来很苦手,项目整体还是未完成状态<br>";
	MyAD+="　　　　如果有哪位感兴趣,欢迎加入OpenDanmaku小组,或者来fork代码,或者联系我schezuk@163.com<br>";
	MyAD+="未来<br>　　　　理论上,我们可以实现一种弱中心的分布式匿名弹幕网络<br>";
	MyAD+="　　　　借由与bt或magnet或ed2k绑定的分布式IRC(或插件),<br>";
	MyAD+="　　　　利用这些协议现有的,或者自己设计的单独的聊天信道交换弹幕报文<br>";
	MyAD+="　　　　仍然可以实现云屏蔽(用户对某条弹幕/某人标记dislike),跨弹幕池引用等等<br>";
	MyAD+="　　　　专门的服务器提供分布式数据库储存,互相保持最终一致性,平时主要访问这个渠道<br>";
	MyAD+="　　　　如果服务器不能访问,每个客户端也可以牺牲效率,直接互相同步弹幕<br>";
	MyAD+="　　　　客户端监听每个anonymous&nbsp;user发布弹幕时的广播,互相传递本地弹幕cache,并用guid来去除重复<br>";
	MyAD+="　　　　<b>如果有哪位大神能来合作实现,不胜感激,请务必联系我<a href=\"mailto:schezuk@163.com\">schezuk@163.com</a></b>";
	document.getElementById("ad").innerHTML=MyAD;
}
</script>
</body>
</html>

